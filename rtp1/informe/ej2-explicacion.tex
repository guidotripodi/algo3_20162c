Una aclaraci\'on previa que ser\'a de utilidad: como se dio como precondici\'on que la llave puede llegar a tomar un valor limite de $10^{15}$, trabajaremos con variables del tipo long long las cuales nos permitir\'an alcanzarlo.\\

Para solucionar el problema de poder quitar la llave y dejar equilibrada la balanza, realizamos un algoritmo que explicaremos a continuaci\'on:\\

$1)$ Como las pesas, presentan un peso potencia de 3, creamos un arreglo de sumas parciales $sumasParciales$ donde iremos guardando las sumas parciales de las potencias desde $3^0$ hasta un $3^i$ en el paso $i-esimo$. La última suma parcial (que llamaremos paso $n-esima$) será $\geq$ $P$.\\

Cada valor en el arreglo $sumasParciales$ representa un intervalo:

\begin{equation}
[0, \sum_{j=0}^{i}(3^j)]
\end{equation} 

Que es el número más grande representable con las potencias de 3 que realizan la sumatoria indicada en el limite superior del intervalo.
Veremos luego que un número $x$ $\in$ $\mathbb{Z}$ que esté contenido en un intervalo como el anterior puede formarse con una combinación de sumas y restas de las potencia de 3 que conforman el limite del intervalo (no necesariamente todas ellas).\\  

$2)$ Para que nuestro algoritmo pueda encontrar que pesas con valor potencia de 3 utilizar para equilibrar la balanza, empezaremos con $P$ (el valor de nuestra llave), buscando el intervalo que lo contiene. 

Este intervalo, será por defecto el más grande, dado que así armamos nuestro arreglo $sumasParciales$. 
Al valor $P$ le restaremos la pesa más grande posible que será en este caso $3^n$. Para obtener este valor simplemente debemos hacer una resta entre la posición $n-esima$ y la anterior del arreglo $sumasParciales$.\\

Luego sabemos que el resto $x$ es un valor entero. Es decir, puede ser mayor, menor o igual a cero.

Si $x$ es cero, quiere decir que $P$ era un valor potencia de 3. Por lo cual ya hemos finalizado y colocamos la pesa encontrada ($3^n$) en el balanzin donde se encontraba la llave $P$.\\

Si el valor $x$ es menor que cero, sabemos que en los siguientes pasos, tendremos que cambiar de plato hasta que el valor vuelva a ser mayor que cero o cero (en cuyo caso habremos finalizado).\\

Si el valor $x$ es mayor que cero, no cambiamos de plato y continuamos agregando pesas hasta llegar a cero.

Los siguientes pasos ser\'an iguales al primero, siempre buscando el intervalo donde se encuentra cada resto sucesivo en el arreglo $sumasParciales$ recorriendo cada una de las posiciones del arreglo.\\

Cuando $X$ sea cero, tendremos nuestras pesas en orden decreciente, con lo cual solo es necesario invertir este orden para cumplir con el formato de salida deseado.