\begin{algorithm}[H]
\caption{BALANZA}
\begin{algorithmic}[1]
\Function{Algoritmo}{\param{in}{Long Long}{P}}{$\ensuremath{\rightarrow}$ \param{out}{S} {Long Long} \param{out}{T} {Long Long} \param{out}{arrayI} {List<Long Long>} \param{out}{arrayD}{List<Long Long>}}
\state creo variable long long equilibrioActual = P \hfill //O(1)
\state creo variable long long i = 0 \hfill //O(1)
\state creo variable long long sumaParcial = 0 \hfill //O(1)
\while {sumaParcial < P} \hfill //O($\sqrt{P}$)
\state sumaParcial  $\gets$ sumaParcial + $3^i$ \hfill //O(1)
\state i++ \hfill //O(1)
\endwhile
\state creo long long size = i+1\hfill //O(1)
\state creo long long sumasParciales[size]\hfill //O($\sqrt{P}$)
\while {i $\geq$ 0} \hfill //O($\sqrt{P}$)
\state sumasParciales[i]  $\gets$ sumaParcial \hfill //O(1)
\state sumaParcial $\gets$ sumaParcial - $3^{i-1}$ \hfill //O(1)
\state i-- \hfill //O(1)
\endwhile
\state creo long long middle = $\frac{size}{2}$ \hfill //O(1)
\while {|equilibrioActual| > 0} \hfill //O($lg(\sqrt{P})$) 
\If{sumasParciales[middle] $\geq$ |equilibrioActual| \state
 $\wedge$ sumasParciales[middle-1] < |equilibrioActual|} \hfill //O(1)
\state creo long long potencia = sumasParciales[middle]-sumasParciales[middle-1] \hfill //O(1)
\If{equilibrioActual < 0} \hfill //O(1)
\state  equilibrioActual $\gets$ potencia + equilibrioActual \hfill //O(1)
\state arrayD $\cup$ potencia \hfill //O(1)
\Else
\state  equilibrioActual $\gets$ equilibrioActual -potencia \hfill //O(1)
\state arrayI $\cup$ potencia \hfill //O(1)
\endif
\state size $\gets$ middle \hfill //O(1)
\state middle $\gets$ $\frac{middle}{2}$ \hfill //O(1)
\endif
\If{sumasParciales[middle] < |equilibrioActual|} \hfill //O(1)
\state middle $\gets$ middle + $\frac{size}{2}$ \hfill //O(1)
\endif
\If{sumasParciales[middle-1] $\geq$ |equilibrioActual|} \hfill //O(1)
\state size $\gets$ middle  \hfill //O(1)
\state middle $\gets$ middle + $\frac{size}{2}$ \hfill //O(1)
\endif
\endwhile
\state devolver(armadoBalanza) \hfill //O($\sqrt{P}$)
\EndFunction 
\end{algorithmic}
\hrule
\complejidad{$\sqrt{P}$}
\end{algorithm}

\begin{algorithm}[H]
\caption{armadoBalanza}
\begin{algorithmic}[1]
\Function{armadoBalanza}{\param{}{}{}}{$\ensuremath{\rightarrow}$ \param{out}{S} {Integer} \param{out}{T} {Integer} \param{out}{arrayI} {List<Integer>} \param{out}{arrayD}{List<Integer>}}
\state invertir(arrayD) \hfill //O($\sqrt{P}$)
\state invertir(arrayI) \hfill //O($\sqrt{P}$)
\state devolver arrayD.tamaño \hfill //O(1)
\state devolver arrayI.tamaño \hfill //O(1)
\state devolver(arrayD) \hfill //O($\sqrt{P}$)
\state devolver(arrayI) \hfill //O($\sqrt{P}$)
\EndFunction 
\end{algorithmic}
\hrule
\complejidad{$\sqrt{P}$}
\end{algorithm}