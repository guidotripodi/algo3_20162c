
Para solucionar este problema y poder quitar la llave y dejar equilibrado como se encontraba anteriormente realizamos un algoritmo el cual explicaremos a continuaci\'on:\\

Una aclaraci\'on previa que ser\'a de utilidad, como se dio como precondici\'on que la llave puede llegar a tomar el valor hasta $10^{15}$ trabajaremos con variables del tipo long long las cuales nos permitir\'an llegar hasta dicho valor.\\

Como las pesas, presentan un peso en potencia de 3, creamos una variable denominada $sumaParcial$ como la palabra lo indica iremos sumando las potencias desde $3^0$ hasta un $3^i$, donde dicha suma sea igual al valor de entrada denominado $P$ o en su defecto el inmediato mayor al mismo.\\

Luego de tener dicha $sumaParcial$ guardada crearemos un array que nombramos $sumasParciales$ de tama√±o $i+1$ el cual iniciaremos vacio. Una vez creado el mismo, llenaremos el array con cada una de las sumas parciales desde el valor que finalizo i hasta 0 de la forma que nos quede \textit{sumasParciales[i] = sumaParcial} donde $sumaParcial$ ser\'a \textit{sumaParcial = sumaParcial-$3^{i-1}$}.\\

Finalizado esto, realizaremos una busqueda binaria para llevar el valor de p a 0. Para un trabajo m\'as sencillo guardamos el valor inicial de $P$ en la variable $equilibrioActual$ a la cual le iremos restando y/o sumando el valor de nuestras pesas.\\

Dicha busqueda binaria la realizaremos en un ciclo que ir\'a desde el valor en m\'odulo de $equilibrioActual$ e iteraremos el mismo hasta que sea 0. Luego, como en toda busqueda binaria, trabajaremos con nuestro array $sumasParciales$ chequeando si en la mitad del array nuestra $sumaParcial$ es mayor o igual al valor en m\'odulo de $equilibrioActual$. En caso de que fuese verdadero, chequeamos si el valor de $equilibrioActual$ es mayor o menor a 0. Si es menor a 0, sumaremos nuestra pesa correspondiente al \'indice en el que estamos de nuestro array $sumasParciales$, al valor de $equilibrioActual$ y guardaremos nuestra pesa en el $arrayD$ que simboliza al plato derecho de la balanza. Si es mayor a 0, en vez de sumarla la restamos y la guardamos en el array $arrayI$ que simboliza el otro plato. Siguiendo el razonamiento de la busqueda binaria, volveremos a partir nuestro array en dos y haremos el mismo chequeo.\\

En caso de que el valor en m\'odulo de $equilibrioActual$ sea mayor que la mitad de $sumasParciales$ nos quedaremos con la mitad m\'as grande del arreglo e iteraremos nuevamente.\\

Una vez que llegamos a 0 y por consiguiente salimos de dicho ciclo, tendremos nuestras pesas ordenadas de mayor a menor en $arrayD$ y en $arrayI$, bastar\'a con invertir los arreglos para que queden de menor a mayor y devolver los mismos, finalizando as\'i nuestro algoritmo.\\
