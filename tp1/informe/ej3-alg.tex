A continuaci\'on se detalla el pseudo-c\'odigo de la parte principal del algoritmo incluyendo las podas:

\begin{algorithm}[H]
\caption{Calculate}
\textbf{global:} remainingFriendships, girls, currentSum, currentMin, bestRound
\begin{algorithmic}[1]
\Function{calculate}{\param{in}{currentIdx}{Integer}}{$\ensuremath$}
\If{remainingFriendships = 0} \hfill //O(1)
\state sittingGirls $\gets$ copy(girls) \hfill //O(n)
\state subList $\gets$ sittingGirls[currentIdx, size(girls)] \hfill //O(1)
\state sort(subList) \hfill //O((k * log(k)) where k = size(girls) - currentIdx
\state 

\If{currentSum < currentMin} \hfill //O(1)
\state bestRound $\gets$ sittingGirls \hfill //O(1)
\Else
\state bestRound $\gets$ firstLexicographically(bestRound, sittingGirls) \hfill //O(n)
\endif
\state currentMin $\gets$ currentSum \hfill //O(1)
\Else
\For{swapIdx \textbf{from} currentIdx \textbf{to} size(girls)}
\state swap(girls, currentIdx, swapIdx) \hfill //O(1)
\state partialDistance $\gets$ getPartialDistance(currentIdx) \hfill //O(n log(n))
\state currentSum $\gets$ currentSum + partialDistance \hfill //O(1)
\If{currentSum $\leq$ currentMin} \hfill //O(1)
\state calculate(currentIdx + 1) 
\endif
\state swap(girls, currentIdx, swapIdx) \hfill //O(1)
\state currentSum $\gets$ currentSum - partialDistance \hfill //O(1)
\EndFor

\endif


\EndFunction 
\end{algorithmic}
\hrule
\complejidad{$n! . n^2 . log(n)$}
\end{algorithm}

\begin{algorithm}[H]
\caption{getMaxDistance}
\begin{algorithmic}[1]
\Function{getPartialDistance}{\param{in}{currentIdx}{Integer}, \param{out}{res}{Integer}}

\state sum $\gets$  0 \hfill //O(1)
\state count $\gets$  0 \hfill //O(1)

\For{girlIdx  \textbf{from} 0 \textbf{to} currentIdx} \hfill //O(n)
	\state friendship $\gets$ Friendship(girls[girlIdx], girls[currentIdx]) \hfill //O(1)
	\If{contains(friendships, friendship)} \hfill //O(log(n))
		\state idxDiff $\gets$ rightIdx - leftIdx \hfill //O(1)
		\state distance $\gets$ min(idxDiff, size(girls) - idxDiff) \hfill //O(1)
		\state sum $\gets$ sum + distance \hfill //O(1)
		\state count $\gets$ count + 1 \hfill //O(1)
	
	\endif

\EndFor

\EndFunction 
\end{algorithmic}
\hrule
\complejidad{$n log(n)$}
\end{algorithm}

